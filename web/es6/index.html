<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="朽木自雕">
        <link rel="canonical" href="https://burningmyself.github.io/web/es6/">
        <link rel="shortcut icon" href="../../favicon.ico">
        
        <title>es6语法 - BurningMyself</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-36723568-3', 'mkdocs.org');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">BurningMyself</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">介绍</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">技术博文 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">.NET</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../net/c_sharp/">C# 6</a>
</li>
            
<li >
    <a href="../../net/c_docker/">.Ner Core Docker 部署</a>
</li>
            
<li >
    <a href="../../net/c_mysql_nginx/">使用 Docker 容器化部署 ASP.NET Core + MySQL + Nginx</a>
</li>
            
<li >
    <a href="../../net/c_core_safety/">让你的ASP.NET Core应用程序更安全</a>
</li>
            
<li >
    <a href="../../net/c_core_study_route/">ASP.NET Core开发者指南</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Java</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../java/feature/">Java特性</a>
</li>
            
<li >
    <a href="../../java/load-class/">Java类加载</a>
</li>
            
<li >
    <a href="../../java/orm/">Orm的优缺点</a>
</li>
            
<li >
    <a href="../../java/bio-nio/">BIO与NIO</a>
</li>
            
<li >
    <a href="../../java/rocketmq/rmq-1/">RocketMq下载与安装</a>
</li>
            
<li >
    <a href="../../java/springAnnotation/">Spring常用注解</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Python</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../python/feature/">Python特性</a>
</li>
            
<li >
    <a href="../../python/str_joint/">Python字符拼接</a>
</li>
            
<li >
    <a href="../../python/syntax_rule/">Python语法技巧</a>
</li>
            
<li >
    <a href="../../python/fabric/">远程部署神器 Fabric</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">PHP</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../php/kj/">框架</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Web</a>
    <ul class="dropdown-menu">
            
<li class="active">
    <a href="./">es6语法</a>
</li>
            
<li >
    <a href="../ali_js_style/">阿里js样式规范</a>
</li>
            
<li >
    <a href="../node.js/">node.js文档</a>
</li>
            
<li >
    <a href="../react/">React 开发者指南</a>
</li>
            
<li >
    <a href="../../dart/syntax/">Dart语法学习</a>
</li>
            
<li >
    <a href="../react_interview/">React 面试</a>
</li>
            
<li >
    <a href="../js_tool_method/">js 工具函数</a>
</li>
            
<li >
    <a href="../vue_cp_react/">vue与react比较</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">SQL</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../sql/mysql_yh/">MySQL优化</a>
</li>
            
<li >
    <a href="../../sql/mysql_yh17/">MySQL优化</a>
</li>
            
<li >
    <a href="../../sql/mysql_log/">MySQL日志</a>
</li>
            
<li >
    <a href="../../sql/mysql_index/">MySQL索引</a>
</li>
            
<li >
    <a href="../../sql/mysql_pxc/">MySQL PXC集群</a>
</li>
            
<li >
    <a href="../../sql/mysql_use/">MySQL 数据库应用</a>
</li>
            
<li >
    <a href="../../sql/sql_server_master/">Sql Server 主从备份</a>
</li>
            
<li >
    <a href="../../sql/data_split/">数据库之互联网常用分库分表方案</a>
</li>
            
<li >
    <a href="../../sql/mybatis/">Mybatis使用心德</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Linux</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../linux/often/">常用命令</a>
</li>
            
<li >
    <a href="../../linux/ope/">实用的Linux 命令</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Docker</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../docker/docker/">Docker全科</a>
</li>
            
<li >
    <a href="../../docker/docker-compose/">docker和docker-compose 配置 mysql mongodb redis nginx jenkins 环境</a>
</li>
            
<li >
    <a href="../../docker/docker-jenkins/">Docker部署Jenkins</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Tool</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../tool/git/">Git</a>
</li>
            
<li >
    <a href="../../tool/gitquestion/">Git问题处理</a>
</li>
            
<li >
    <a href="../../tool/gitflow/">GitFlow</a>
</li>
            
<li >
    <a href="../../tool/gitbook/">GitBook</a>
</li>
            
<li >
    <a href="../../tool/gitcmr/">Git提交日志规范</a>
</li>
            
<li >
    <a href="../../tool/markdown/">Markdown</a>
</li>
            
<li >
    <a href="../../tool/cicd/">CI/CD</a>
</li>
            
<li >
    <a href="../../tool/mkdocs/">mkdocs简单使用</a>
</li>
            
<li >
    <a href="../../tool/gitstudy/">Git的黑魔法</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">微服务 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../micro/spring-cloud/">基于SpringCloud的微服务架构演变史</a>
</li>
                                    
<li >
    <a href="../../micro/fbs-lock/">分布式锁</a>
</li>
                                    
<li >
    <a href="../../micro/design/">微服务设计</a>
</li>
                                    
<li >
    <a href="../../micro/distrimsg/">分布式系统与消息的投递</a>
</li>
                                    
<li >
    <a href="../../micro/ddd/">基于DDD的微服务设计和开发实战</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">经验分析 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../exp/devops/">DevOps</a>
</li>
                                    
<li >
    <a href="../../exp/micro-service/">Micro-Service</a>
</li>
                                    
<li >
    <a href="../../exp/raft-gossip/">Raft算法和Gossip协议</a>
</li>
                                    
<li >
    <a href="../../exp/cl/">集群和负载均衡</a>
</li>
                                    
<li >
    <a href="../../exp/ai/">人工智能</a>
</li>
                                    
<li >
    <a href="../../exp/code-principle/">代码原则</a>
</li>
                                    
<li >
    <a href="../../exp/techbig/">如何成为技术大牛</a>
</li>
                                    
<li >
    <a href="../../exp/learnweetout/">程序员如何技术成长</a>
</li>
                                    
<li >
    <a href="../../exp/pt/">产品与技术</a>
</li>
                                    
<li >
    <a href="../../exp/four_deep_learning/">深度学习框架</a>
</li>
                                    
<li >
    <a href="../../exp/tl/">在阿里做了5年技术Leader，我总结出这些套路！</a>
</li>
                                    
<li >
    <a href="../../exp/cto/">CTO 技能图谱</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">医学 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../doctor/ae/">脑炎</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">构架 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../framework/split/">构架拆分</a>
</li>
                                    
<li >
    <a href="../../framework/fgb/">分布式、高并发、多线程</a>
</li>
                                    
<li >
    <a href="../../framework/agility/">如何理解敏捷开发</a>
</li>
                                    
<li >
    <a href="../../framework/fwork/">走向架构师必备的技能</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">情感 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../emotion/eq/">情商</a>
</li>
                                    
<li >
    <a href="../../emotion/workheard/">工作心得</a>
</li>
                                    
<li >
    <a href="../../emotion/lookbook/">看书</a>
</li>
                                    
<li >
    <a href="../../emotion/fmf/">4种男朋友</a>
</li>
                                    
<li >
    <a href="../../emotion/notheart/">不上心</a>
</li>
                                    
<li >
    <a href="../../emotion/selfdiscipline/">自律</a>
</li>
                                    
<li >
    <a href="../../emotion/notlike/">喜欢与不喜欢</a>
</li>
                                    
<li >
    <a href="../../emotion/latemarry/">晚婚</a>
</li>
                                    
<li >
    <a href="../../emotion/understand/">追女生要明白这些事</a>
</li>
                                    
<li >
    <a href="../../emotion/backup/">备胎</a>
</li>
                                    
<li >
    <a href="../../emotion/chase/">为什么追不到她</a>
</li>
                                    
<li >
    <a href="../../emotion/livefail/">为什么活着失败</a>
</li>
                                    
<li >
    <a href="../../emotion/emotion/">情绪管理</a>
</li>
                                    
<li >
    <a href="../../emotion/abolish/">废掉的三个迹象</a>
</li>
                                    
<li >
    <a href="../../emotion/uptime/">余生，好好珍惜</a>
</li>
                                    
<li >
    <a href="../../emotion/losecome/">所有的失去，都会以另一种方式归来</a>
</li>
                                    
<li >
    <a href="../../emotion/threeheart/">人生有这三种好心态</a>
</li>
                                    
<li >
    <a href="../../emotion/onelike/">一个感情真相</a>
</li>
                                    
<li >
    <a href="../../emotion/notruth/">情商与道理</a>
</li>
                                    
<li >
    <a href="../../emotion/smf/">六种男人远离</a>
</li>
                                    
<li >
    <a href="../../emotion/select/">决定接下来人生归属的，不是努力，而是选择</a>
</li>
                                    
<li >
    <a href="../../emotion/nolike/">被你拉黑的那个人，你一定很喜欢吧</a>
</li>
                                    
<li >
    <a href="../../emotion/onepath/">余生，学会一个人走，不管有没有人陪</a>
</li>
                                    
<li >
    <a href="../../emotion/twopath/">往后余生还很精彩，别被熬夜拖垮了</a>
</li>
                                    
<li >
    <a href="../../emotion/lifetime/">心态好的人，一辈子都好</a>
</li>
                                    
<li >
    <a href="../../emotion/hearttoheart/">将心比心，方得人心</a>
</li>
                                    
<li >
    <a href="../../emotion/ttt/">别睡太晚，别爱太满，别要太多</a>
</li>
                                    
<li >
    <a href="../../emotion/profess/">表白</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../../php/kj/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../ali_js_style/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/burningmyself/burningmyself.github.io/edit/master/docs/web/es6.md">Edit on burningmyself.github.io</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#javascript-es6">JavaScript ES6 规范</a></li>
            <li><a href="#es6">ES6 简介</a></li>
            <li><a href="#_1">新特性</a></li>
            <li><a href="#_3">总结</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="javascript-es6">JavaScript ES6 规范<a class="headerlink" href="#javascript-es6" title="Permanent link">&para;</a></h1>
<h2 id="es6">ES6 简介<a class="headerlink" href="#es6" title="Permanent link">&para;</a></h2>
<p>ECMAScript 6 简称 ES6，是 JavaScript 语言的下一代标准，已经在2015年6月正式发布了。它的目标是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。</p>
<p>ECMAScript 和 JavaScript 的关系：前者是后者的语法规格，后者是前者的一种实现</p>
<p><a href="http://babeljs.io/">Babel</a>：将ES6代码转为ES5代码 </p>
<h2 id="_1">新特性<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="letconst">let、const<a class="headerlink" href="#letconst" title="Permanent link">&para;</a></h3>
<p>let 定义的变量不会被变量提升，const 定义的常量不能被修改，let 和 const 都是块级作用域</p>
<p>ES6前，js 是没有块级作用域 {} 的概念的。（有函数作用域、全局作用域、eval作用域）</p>
<p>ES6后，let 和 const 的出现，js 也有了块级作用域的概念，前端的知识是日新月异的~</p>
<p>变量提升：在ES6以前，var关键字声明变量。无论声明在何处，都会被视为声明在函数的最顶部；不在函数内即在全局作用域的最顶部。这样就会引起一些误解。例如：</p>
<pre class="codehilite"><code class="language-js">console.log(a); // undefined
var a = 'hello';

# 上面的代码相当于
var a;
console.log(a);
a = 'hello';

# 而 let 就不会被变量提升
console.log(a); // a is not defined
let a = 'hello';</code></pre>


<p>const 定义的常量不能被修改</p>
<pre class="codehilite"><code class="language-js">var name = &quot;bai&quot;;
name = &quot;ming&quot;;
console.log(name); // ming
const name = &quot;bai&quot;;
name = &quot;ming&quot;; // Assignment to constant variable.
console.log(name);</code></pre>


<h3 id="importexport">import、export<a class="headerlink" href="#importexport" title="Permanent link">&para;</a></h3>
<p>import导入模块、export导出模块</p>
<pre class="codehilite"><code class="language-js">// 全部导入
import people from './example'

// 将整个模块当作单一对象进行导入，该模块的所有导出都会作为对象的属性存在
import * as example from &quot;./example.js&quot;
console.log(example.name)
console.log(example.getName())

// 导入部分，引入非 default 时，使用花括号
import {name, age} from './example'


// 导出默认, 有且只有一个默认
export default App

// 部分导出
export class App extend Component {};</code></pre>


<h3 id="classextendssuper">class、extends、super<a class="headerlink" href="#classextendssuper" title="Permanent link">&para;</a></h3>
<p>ES5中最令人头疼的的几个部分：原型、构造函数，继承，有了ES6我们不再烦恼！</p>
<p>ES6引入了Class（类）这个概念。</p>
<pre class="codehilite"><code class="language-js">class Animal {
constructor() {
this.type = 'animal';
}
says(say) {
console.log(this.type + ' says ' + say);
}
}

let animal = new Animal();
animal.says('hello'); //animal says hello

class Cat extends Animal {
constructor() {
super();
this.type = 'cat';
}
}

let cat = new Cat();
cat.says('hello'); //cat says hello</code></pre>


<p>上面代码首先用class定义了一个“类”，可以看到里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。简单地说，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实力对象可以共享的。</p>
<p>Class之间可以通过extends关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个Cat类，该类通过extends关键字，继承了Animal类的所有属性和方法。</p>
<p>super关键字，它指代父类的实例（即父类的this对象）。子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。</p>
<p>ES6的继承机制，实质是先创造父类的实例对象this（所以必须先调用super方法），然后再用子类的构造函数修改this。</p>
<pre class="codehilite"><code class="language-js">// ES5
var Shape = function(id, x, y) {
this.id = id,
this.move(x, y);
};
Shape.prototype.move = function(x, y) {
this.x = x;
this.y = y;
};

var Rectangle = function id(ix, x, y, width, height) {
Shape.call(this, id, x, y);
this.width = width;
this.height = height;
};
Rectangle.prototype = Object.create(Shape.prototype);
Rectangle.prototype.constructor = Rectangle;

var Circle = function(id, x, y, radius) {
Shape.call(this, id, x, y);
this.radius = radius;
};
Circle.prototype = Object.create(Shape.prototype);
Circle.prototype.constructor = Circle;

// ES6
class Shape {
constructor(id, x, y) {
this.id = id this.move(x, y);
}
move(x, y) {
this.x = x this.y = y;
}
}

class Rectangle extends Shape {
constructor(id, x, y, width, height) {
super(id, x, y) this.width = width this.height = height;
}
}

class Circle extends Shape {
constructor(id, x, y, radius) {
super(id, x, y) this.radius = radius;
}
}</code></pre>


<h3 id="arrow-functions">arrow functions （箭头函数）<a class="headerlink" href="#arrow-functions" title="Permanent link">&para;</a></h3>
<p>函数的快捷写法。不需要 function 关键字来创建函数，省略 return 关键字，继承当前上下文的 this 关键字</p>
<pre class="codehilite"><code class="language-js">// ES5
var arr1 = [1, 2, 3];
var newArr1 = arr1.map(function(x) {
return x + 1;
});

// ES6
let arr2 = [1, 2, 3];
let newArr2 = arr2.map((x) =&gt; {
x + 1
});</code></pre>


<p>箭头函数小细节：当你的函数有且仅有一个参数的时候，是可以省略掉括号的；当你函数中有且仅有一个表达式的时候可以省略{}</p>
<pre class="codehilite"><code class="language-js">let arr2 = [1, 2, 3];
let newArr2 = arr2.map(x =&gt; x + 1);</code></pre>


<p>JavaScript语言的this对象一直是一个令人头痛的问题，运行上面的代码会报错，这是因为setTimeout中的this指向的是全局对象。</p>
<pre class="codehilite"><code class="language-js">class Animal {
constructor() {
this.type = 'animal';
}
says(say) {
setTimeout(function() {
console.log(this.type + ' says ' + say);
}, 1000);
}
}
var animal = new Animal();
animal.says('hi'); //undefined says hi</code></pre>


<p>解决办法：</p>
<pre class="codehilite"><code class="language-js">// 传统方法1: 将this传给self,再用self来指代this
says(say) {
var self = this;
setTimeout(function() {
console.log(self.type + ' says ' + say);
}, 1000);
}

// 传统方法2: 用bind(this),即
says(say) {
setTimeout(function() {
console.log(this.type + ' says ' + say);
}.bind(this), 1000);
}

// ES6: 箭头函数
// 当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象
says(say) {
setTimeout(() =&gt; {
console.log(this.type + ' says ' + say);
}, 1000);
}</code></pre>


<h3 id="template-string">template string （模板字符串）<a class="headerlink" href="#template-string" title="Permanent link">&para;</a></h3>
<p>解决了 ES5 在字符串功能上的痛点。</p>
<p>第一个用途：字符串拼接。将表达式嵌入字符串中进行拼接，用 <code>和${}</code>来界定。</p>
<pre class="codehilite"><code class="language-js">// es5
var name1 = &quot;bai&quot;;
console.log('hello' + name1);

// es6
const name2 = &quot;ming&quot;;
console.log(`hello${name2}`);</code></pre>


<p>第二个用途：在ES5时我们通过反斜杠来做多行字符串拼接。ES6反引号 `` 直接搞定。</p>
<pre class="codehilite"><code class="language-js">// es5
var msg = &quot;Hi \
man!&quot;;

// es6
const template = `&lt;div&gt;
&lt;span&gt;hello world&lt;/span&gt;
&lt;/div&gt;`;</code></pre>


<p>另外：includes repeat</p>
<pre class="codehilite"><code class="language-js">// includes：判断是否包含然后直接返回布尔值
let str = 'hahah';
console.log(str.includes('y')); // false

// repeat: 获取字符串重复n次
let s = 'he';
console.log(s.repeat(3)); // 'hehehe'</code></pre>


<h3 id="destructuring">destructuring （解构）<a class="headerlink" href="#destructuring" title="Permanent link">&para;</a></h3>
<p>简化数组和对象中信息的提取。</p>
<p>ES6前，我们一个一个获取对象信息；</p>
<p>ES6后，解构能让我们从对象或者数组里取出数据存为变量</p>
<pre class="codehilite"><code class="language-js">// ES5
var people1 = {
name: 'bai',
age: 20,
color: ['red', 'blue']
};

var myName = people1.name;
var myAge = people1.age;
var myColor = people1.color[0];
console.log(myName + '----' + myAge + '----' + myColor);

// ES6
let people2 = {
name: 'ming',
age: 20,
color: ['red', 'blue']
}

let { name, age } = people2;
let [first, second] = people2.color;
console.log(`${name}----${age}----${first}`);</code></pre>


<h3 id="default">default 函数默认参数<a class="headerlink" href="#default" title="Permanent link">&para;</a></h3>
<pre class="codehilite"><code class="language-js">// ES5 给函数定义参数默认值
function foo(num) {
num = num || 200;
return num;
}

// ES6
function foo(num = 200) {
return num;
}</code></pre>


<h3 id="rest-arguments-rest">rest arguments （rest参数）<a class="headerlink" href="#rest-arguments-rest" title="Permanent link">&para;</a></h3>
<p>解决了 es5 复杂的 arguments 问题</p>
<pre class="codehilite"><code class="language-js">function foo(x, y, ...rest) {
return ((x + y) * rest.length);
}
foo(1, 2, 'hello', true, 7); // 9</code></pre>


<h3 id="spread-operator">Spread Operator （展开运算符）<a class="headerlink" href="#spread-operator" title="Permanent link">&para;</a></h3>
<p>第一个用途：组装数组</p>
<pre class="codehilite"><code class="language-js">let color = ['red', 'yellow'];
let colorful = [...color, 'green', 'blue'];
console.log(colorful); // [&quot;red&quot;, &quot;yellow&quot;, &quot;green&quot;, &quot;blue&quot;]</code></pre>


<p>第二个用途：获取数组除了某几项的其他项</p>
<pre class="codehilite"><code class="language-js">let num = [1, 3, 5, 7, 9];
let [first, second, ...rest] = num;
console.log(rest); // [5, 7, 9]</code></pre>


<h3 id="_2">对象<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>对象初始化简写</p>
<pre class="codehilite"><code class="language-js">// ES5
function people(name, age) {
return {
name: name,
age: age
};
}

// ES6
function people(name, age) {
return {
name,
age
};
}</code></pre>


<p>对象字面量简写（省略冒号与 function 关键字）</p>
<pre class="codehilite"><code class="language-js">// ES5
var people1 = {
name: 'bai',
getName: function () {
console.log(this.name);
}
};

// ES6
let people2 = {
name: 'bai',
getName () {
console.log(this.name);
}
};</code></pre>


<p>另外：Object.assign()</p>
<p>ES6 对象提供了Object.assign()这个方法来实现浅复制。Object.assign()可以把任意多个源对象自身可枚举的属性拷贝给目标对象，然后返回目标对象。第一参数即为目标对象。在实际项目中，我们为了不改变源对象。一般会把目标对象传为{}</p>
<pre class="codehilite"><code class="language-js">const obj = Object.assign({}, objA, objB)

// 给对象添加属性
this.seller = Object.assign({}, this.seller, response.data)</code></pre>


<h3 id="promise">Promise<a class="headerlink" href="#promise" title="Permanent link">&para;</a></h3>
<p>用同步的方式去写异步代码</p>
<pre class="codehilite"><code class="language-js">// 发起异步请求
fetch('/api/todos')
.then(res =&gt; res.json())
.then(data =&gt; ({
data
}))
.catch(err =&gt; ({
err
}));</code></pre>


<h3 id="generators">Generators<a class="headerlink" href="#generators" title="Permanent link">&para;</a></h3>
<p>生成器（ generator）是能返回一个迭代器的函数。</p>
<p>生成器函数也是一种函数，最直观的表现就是比普通的function多了个星号*，在其函数体内可以使用yield关键字,有意思的是函数会在每个yield后暂停。</p>
<p>这里生活中有一个比较形象的例子。咱们到银行办理业务时候都得向大厅的机器取一张排队号。你拿到你的排队号，机器并不会自动为你再出下一张票。也就是说取票机“暂停”住了，直到下一个人再次唤起才会继续吐票。</p>
<p>迭代器：当你调用一个generator时，它将返回一个迭代器对象。这个迭代器对象拥有一个叫做next的方法来帮助你重启generator函数并得到下一个值。next方法不仅返回值，它返回的对象具有两个属性：done和value。value是你获得的值，done用来表明你的generator是否已经停止提供值。继续用刚刚取票的例子，每张排队号就是这里的value，打印票的纸是否用完就这是这里的done。</p>
<pre class="codehilite"><code class="language-js">// 生成器
function *createIterator() {
yield 1;
yield 2;
yield 3;
}

// 生成器能像正规函数那样被调用，但会返回一个迭代器
let iterator = createIterator();

console.log(iterator.next().value); // 1
console.log(iterator.next().value); // 2
console.log(iterator.next().value); // 3</code></pre>


<p>迭代器对异步编程作用很大，异步调用对于我们来说是很困难的事，我们的函数并不会等待异步调用完再执行，你可能会想到用回调函数，（当然还有其他方案比如Promise比如Async/await）。</p>
<p>生成器可以让我们的代码进行等待。就不用嵌套的回调函数。使用generator可以确保当异步调用在我们的generator函数运行一下行代码之前完成时暂停函数的执行。</p>
<p>那么问题来了，咱们也不能手动一直调用next()方法，你需要一个能够调用生成器并启动迭代器的方法。就像这样子的：</p>
<pre class="codehilite"><code class="language-js">function run(taskDef) {
// taskDef 即一个生成器函数
// 创建迭代器，让它在别处可用
let task = taskDef();

// 启动任务
let result = task.next();

// 递归使用函数来保持对 next() 的调用
function step() {
// 如果还有更多要做的
if (!result.done) {
result = task.next();
step();
}
}

// 开始处理过程
step();
}</code></pre>


<h2 id="_3">总结<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>以上就是 ES6 最常用的一些语法，可以说这20%的语法，在ES6的日常使用中占了80%</p>
<p><a href="http://es6.ruanyifeng.com/">更多ES6语法点击这里</a>
<a href="https://wangdoc.com/">《JavaScript 语言入门教程》</a></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>BurningMyself</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
